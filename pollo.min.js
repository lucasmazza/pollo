/* pollo.js 0.0.1 (fbacca638d8c99715ec5e6b73bed64454272239d) https://github.com/lucasmazza/pollo/blob/master/LICENSE */
(function(){function e(e,t){this.endpoint=e,this.timeout=t,this.emitter=$("<div />"),this.aborted=!1}e.prototype.start=function(){this.aborted=!1,this.execute()},e.prototype.abort=function(){this.aborted=!0,this.timer&&clearTimeout(this.timer),this.ajax&&this.ajax.abort()},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.execute=function(){this.before();var e={url:this.endpoint,success:$.proxy(this,"success"),complete:$.proxy(this,"done")};this.ajax=$.ajax(e)},e.prototype.before=function(){this.emitter.trigger("before",arguments)},e.prototype.done=function(){this.enqueue(),this.emitter.trigger("done",arguments)},e.prototype.success=function(){this.emitter.trigger("success",arguments)},e.prototype.enqueue=function(){this.aborted||(this.timer=setTimeout($.proxy(this,"execute"),this.timeout))},"undefined"==typeof module?window.Pollo=e:module.exports=e})();